<p align="center">
   <img width="200" src="in-place.png">
</p>

#### 就地部署

    就地更新，在当前提供服务的实例中，直接更新服务，然后再重启服务

##### 概况：

| 部署速度 |  资源消耗  | Downtime  | 回滚时间  | 对用户的负面影响| 目标用户|
| -------| ---------| --------| --------| --------|--------|
| :sun_with_face: :sun_with_face: :sun_with_face: :sun_with_face: :sun_with_face: |  :x:   | :o:   | :sun_with_face: | :sun_with_face: :sun_with_face: :sun_with_face: | :x: |

##### 注
    由于kubernetes中，服务运行载体的最小单位是pod，而pod无重启概念，所以本模式，更多的适用于虚拟机

##### 说明：
1. 部署速度快， 所有载体都是同时更新
2. 资源消耗少，由于是在当前服务器上部署，所以不需要另创建资源
3. 存在downtime，因为所有的服务器都同时更新，所以会有一部分的downtime
4. 回滚时间少，如果更新后的服务不满足需求，可以直接回滚（重新部署服务）
5. 影响终端用户，存在downtime时间，所以终端用户会在一段时间内无法访问服务
6. 无法定位目标群体，通过此发布模式，无法精确定位到目标用户

##### 场景：
1. 服务的发布，可以允许dowmtime的存在
2. 对成本控制，不能创建新的服务载体
3. 部署快

##### 实际场景：
在基于gitflow或者某种分支开发流程中，feature分支，一般情况下，访问量少，而且基本只有一个开发人员使用，这个时候可以使用此模式。不仅仅能迅速发布，即使存在dowmtime，开发人员也并不关心。  
公司存在多个项目，而每个项目都存在众多feature分支，那么最好对feature分支所消耗的资源做一些预判与考量。而此模式，能将部署的费用降到最低。
